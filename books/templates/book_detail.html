{% extends 'base.html' %}
{% block content %}

<div class="book-detail-page">

    <!-- Main content -->
    <div class="book-main">

        <!-- Back to search button -->
        <a href="{% url 'book_search' %}" class="btn-back">Back to search</a>

        <!-- Book title -->
        <h1>{{ volume.title|default:"Untitled" }}</h1>

        <!-- Authors -->
        {% if authors %}
        <p class="book-authors">
            Author:
            {% for author in authors %}
                <a href="{% url 'author_detail' author %}" class="author-link">{{ author }}</a>{% if not forloop.last %}, {% endif %}
            {% endfor %}
        </p>
        {% endif %}

        <!-- Book cover -->
        {% if volume.imageLinks.thumbnail %}
        <img src="{{ volume.imageLinks.thumbnail }}" alt="Book cover of {{ volume.title }}" class="book-cover">
        {% endif %}

        <!-- Description -->
        <p>{{ description|default:"No description available."|safe }}</p>

    </div>

    <!-- Sidebar with other books -->
    {% if author_books %}
    <aside class="book-sidebar">
        <h3>Other books by the author:</h3>
        <ul>
            {% for item in author_books %}
                <li>
                    <a href="{% url 'book_detail' item.id %}">{{ item.title }}</a>
                </li>
            {% empty %}
                <li>No more books.</li>
            {% endfor %}
        </ul>
    </aside>
    {% endif %}

</div>

{% endblock %}
