{% extends 'base.html' %}
{% block content %}
   <h1>{{ book.title|default:"Untitled" }}</h1>

   <p><strong>Year:</strong> {{ book.year|default:"N/A" }}</p>

   <p><strong>Genre:</strong>
     {% if book.genre.exists %}
       {% for genre in book.genre.all %}
         {{ genre.name }}{% if not forloop.last %}, {% endif %}
       {% endfor %}
     {% else %}
       N/A
     {% endif %}
   </p>

   <p><strong>Rating:</strong> {{ book.get_rating_display|default:"No rating" }}</p>

   <p><strong>Description:</strong> {{ book.description|default:"No description available." }}</p>

   <p><strong>Authors:</strong>
     {% if book.authors.exists %}
       {% for author in book.authors.all %}
         <a href="{% url 'author_detail' author_name=author.first_name|add:" "|add:author.last_name %}">
            {{ author.first_name }} {{ author.last_name }}
         </a>{% if not forloop.last %}, {% endif %}
       {% endfor %}
     {% else %}
       N/A
     {% endif %}
   </p>
{% endblock %}
