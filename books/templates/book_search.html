{% extends "base.html" %}
{% block content %}
<h1>Search Books</h1>

<form method="get">
    <input type="text" name="q" value="{{ query }}" placeholder="Search for books or authors">
    <button type="submit">Search</button>
</form>

{% if books %}
    <ul>
        {% for book in books %}
            <li>
                <a href="{% url 'book_detail' book_id=book.id %}">{{ book.title }}</a> by
                {% for author in book.authors.all %}
                    {{ author.first_name }} {{ author.last_name }}{% if not forloop.last %}, {% endif %}
                {% endfor %}
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p>No books found.</p>
{% endif %}
{% endblock %}


